---
title: í‹±íƒí†  ê²Œì„ ë§Œë“¤ê¸° (with TypeScript)
date: 2023-12-12
category: React
image: /assets/post/my-blog-services/thumbnail.png
---

# í‹±íƒí†  ê²Œì„ ë§Œë“¤ê¸° (with TypeScript)

## Game ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

**App.tsx**

- `grid place-content-center`
  - `flex items-center justify-content-center` ì™€ ë™ì¼ ì•„ì´í…œì„ ìƒí•˜ì¢Œìš° ì¤‘ì•™ìœ¼ë¡œ ë°°ì¹˜

```tsx
import Game from "./components/Game";

function App() {
  return (
    <>
      <div className="h-screen **grid place-content-center**">
        <h1 className="sr-only">í‹±íƒí†  ê²Œì„</h1>
        <Game />
      </div>
    </>
  );
}
```

**Game ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°êµ¬ì„±**

```tsx
function Game() {
  return (
    <>
      <section className="grid grid-rows-[24px_1fr] grid-cols-2 gap-2">
        Game
      </section>
    </>
  );
}

export default Game;
```

### Status ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

**Status ì»´í¬ë„ŒíŠ¸ëŠ” Game ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ë˜ì–´ì•¼í•¨**

```tsx
**ğŸ“ Game.tsx**

import Status from "./Status";

function Game() {
  return (
    <>
      <section className="grid grid-rows-[24px_1fr] grid-cols-2 gap-2">
        **<Status />**
      </section>
    </>
  );
}

export default Game;
```

**Status.tsx**

```tsx
function Status() {
  return (
    <>
      <h2 className="col-span-2">ë‹¤ìŒ í”Œë ˆì´ì–´ : ğŸ¥³</h2>
    </>
  );
}

export default Status;
```

### Board ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

**Board ì»´í¬ë„ŒíŠ¸ ë˜í•œ Game ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ êµ¬ì„±ë˜ì–´ì•¼í•¨**

```tsx
**ğŸ“ Game.tsx**

function Game() {
  return (
    <>
      <section className="grid grid-rows-[24px_1fr] grid-cols-2 gap-2">
        <Status />
        **<Board />**
      </section>
    </>
  );
}
```

**Board.tsx**

```tsx
function Board() {
  return (
    <>
      <div className="grid grid-rows-3 grid-cols-3 border-2 border-slate-700">
        Board
      </div>
    </>
  );
}

export default Board;
```

### Square ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

**Squaer ì»´í¬ë„ŒíŠ¸ëŠ” Board ë‚´ë¶€ì—ì„œ êµ¬ì„±ë˜ì–´ì•¼ í•œë‹¤**

```tsx
ğŸ“ Board.tsx

import Square from "./Square";

function Board() {
  return (
    <>
      <div className="grid grid-rows-3 grid-cols-3 border-2 border-slate-700">
        **<Square />**
      </div>
    </>
  );
}

export default Board;
```

**Squaer.tsx**

```tsx
function Square() {
  return (
    <>
      <button
        type="button"
        className="w-16 h-16 border-l border-t border-solid border-slate-700">
        Square
      </button>
    </>
  );
}

export default Square;
```

![ë Œë”ë§ ëœ Squaer ì»´í¬ë„ŒíŠ¸](https://prod-files-secure.s3.us-west-2.amazonaws.com/272b012a-e87d-473c-b817-b18213680590/f0e5b54c-73c7-419d-bdaf-fb1b8f51273a/Untitled.png)

ë Œë”ë§ ëœ Squaer ì»´í¬ë„ŒíŠ¸

### History ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

**History ì»´í¬ë„ŒíŠ¸ëŠ” Game ë‚´ì—ì„œ êµ¬ì„±ë˜ì–´ì•¼ í•¨**

```tsx
function Game() {
  return (
    <>
      <section className="grid grid-rows-[24px_1fr] grid-cols-2 gap-2">
        <Status />
        <Board />
        **
        <History />
        **
      </section>
    </>
  );
}
```

**History.tsx**

- ì‚¬ìš©ìëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¡œ ì¸í•´ íŠ¹ì • ì‹œì ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í•  ì˜ˆì •

```tsx
function History() {
  return (
    <>
      <div>
        <h2 className="sr-only">í‹±íƒí†  ì‹œê°„ì—¬í–‰ ğŸš€</h2>
        <ol className="space-y-1">
          <li>
            <button
              type="button"
              className="grid place-content-center py-1 px-4 rounded-md bg-slate-800 text-slate-50 text-xs">
              ê²Œì„ ì‹œì‘
            </button>
          </li>
          <li>
            <button
              type="button"
              className="grid place-content-center py-1 px-4 rounded-md bg-slate-800 text-slate-50 text-xs">
              ê²Œì„ #1 ì´ë™
            </button>
          </li>
        </ol>
      </div>
    </>
  );
}

export default History;
```

## Square ì»´í¬ë„ŒíŠ¸ ë¡œì§ êµ¬ì„±

### Square ë¦¬ìŠ¤íŠ¸ ë Œë”ë§

**Square ì»´í¬ë„ŒíŠ¸ì— children propì„ ë°›ë„ë¡**

```tsx
function Square({**children**}) {
  return (
    <>
      <button
        type="button"
        className="w-16 h-16 border-l border-t border-solid border-slate-700">
        {children}
      </button>
    </>
  );
}

export default Square;
```

**childrenì˜ íƒ€ì…ì€?**

- `React.ReactNode`

```tsx
**interface ISquareProp {
  children: React.ReactNode;
}**

function Square({children}**: ISquareProp**) {
  return (
    <>
      <button
        type="button"
        className="w-16 h-16 border-l border-t border-solid border-slate-700">
        {children}
      </button>
    </>
  );
}
```

<aside>
ğŸ’¡ **Array(9).fill(null)**

</aside>

**Board ì»´í¬ë„ŒíŠ¸ì—ì„œ INITAL_SQUARESë¼ëŠ” ìƒìˆ˜ë¥¼ ì§€ì •í•´ ì„ì˜ì˜ nullì´ ë‹´ê¸´ ë°°ì—´ì„ ì„¤ì •**

- í•´ë‹¹ ìƒìˆ˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§

```tsx
function Board() {
  const INITAL_SQUARES = Array(9).fill(null);

  return (
    <>
      <div className="grid grid-rows-3 grid-cols-3 border-t-2 border-2 border-r-[3px] border-l-2 border-b-[3px] border-slate-700">
        {INITAL_SQUARES.map((square, index) => {
          return <Square key={index}>{square}</Square>;
        })}
      </div>
    </>
  );
}
```

![*Array(9).fill(null)*](https://prod-files-secure.s3.us-west-2.amazonaws.com/272b012a-e87d-473c-b817-b18213680590/384a906a-e813-4e07-8d66-35fdb9b931bf/Untitled.png)

_Array(9).fill(null)_

![*í˜„ì¬ ê¹Œì§€ êµ¬ì„±ëœ UI*](https://prod-files-secure.s3.us-west-2.amazonaws.com/272b012a-e87d-473c-b817-b18213680590/354e0293-a7d6-4517-8380-9b930305f285/Untitled.png)

_í˜„ì¬ ê¹Œì§€ êµ¬ì„±ëœ UI_

### Square ì´ë²¤íŠ¸ ì—°ê²°

**ìŠ¤í€˜ì–´ ë²„íŠ¼ì„ ì‚¬ìš©ìê°€ ì…ë ¥ì‹œ í”Œë ˆì´ì–´ê°€ ìœ„ì¹˜ í•´ì•¼í•¨**

<aside>
ğŸ’¡ **handlePlay í•¨ìˆ˜**

</aside>

- í•´ë‹¹ í•¨ìˆ˜ë¥¼ `Square` ì»´í¬ë„ŒíŠ¸ì— `props`ë¡œ ì „ë‹¬í•´ì•¼ í•¨
- í´ë¡œì €ë¥¼ ì‚¬ìš©í•´ì„œ `index`ë¥¼ ì „ë‹¬

```tsx
const handlePlay = (index: number) => () => {
    console.log(index);
  };

return (
    <>
      <div className="grid grid-rows-3 grid-cols-3 border-t-2 border-2 border-r-[3px] border-l-2 border-b-[3px] border-slate-700">
        {INITAL_SQUARES.map((square, index) => {
          return (
            <Square key={index} **onPlay={handlePlay(index)}**>
              {square}
            </Square>
          );
        })}
      </div>
    </>
  );
```

**handlePlayë¥¼ Squaerì— propsë¡œ ì „ë‹¬í• ë•Œ ISquareProp í•¨ìˆ˜ íƒ€ì…ì •ì˜ëŠ” ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?**

```tsx
function Board() {
  const INITAL_SQUARES = Array(9).fill(null);

  /* Square ì»´í¬ë„ŒíŠ¸ì— ì¸ë±ìŠ¤ê°’ì„ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ */
  const handlePlay = (index: **number**) => () => {
    console.log(index);
  };

  return (
    <>
      <div className="grid grid-rows-3 grid-cols-3 border-t-2 border-2 border-r-[3px] border-l-2 border-b-[3px] border-slate-700">
        {INITAL_SQUARES.map((square, index) => {
          return (
            <Square key={index} **onPlay={handlePlay(index)**}>
              {square}
            </Square>
          );
        })}
      </div>
    </>
  );
}

interface ISquareProp {
  children: React.ReactNode;
  **onPlay: (index: number) => void;**
}
```

### ê²Œì„ ì¸ë±ìŠ¤ì™€ ë„¥ìŠ¤íŠ¸ í”Œë ˆì´ì–´

**gameIndex, nextPlayer íŒŒìƒìƒíƒœ ì„¤ì •**

```tsx
function Board() {
  const INITAL_SQUARES = Array(9).fill(null);
  const [squares] = useState(INITAL_SQUARES);

  /* Square ì»´í¬ë„ŒíŠ¸ì— ì¸ë±ìŠ¤ê°’ì„ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ */
  const handlePlay = (index: number) => () => {
    console.log(index);
  };

  **const PLAYER1 = "ğŸ§¡";
  const PLAYER2 = "ğŸ’š";
  const [gameIndex, setGameIndex] = useState(0);
  const nextPlayer = gameIndex % 2 === 0 ? PLAYER1 : PLAYER2;
  console.log(nextPlayer);**

  return (
    <>
      <div className="grid grid-rows-3 grid-cols-3 border-t-2 border-2 border-r-[3px] border-l-2 border-b-[3px] border-slate-700">
        {squares.map((square, index) => {
          return (
            <Square key={index} onPlay={handlePlay(index)}>
              {square}
            </Square>
          );
        })}
      </div>
    </>
  );
}
```

**handlePlay í•¨ìˆ˜ ë¡œì§ ì„¤ëª…**

- `nextPlayer`ëŠ” `gameIndex`ì˜ íŒŒìƒ ìƒíƒœë¡œì„œ, `gameIndex`ë¥¼ 2ë¡œ ë‚˜ëˆ´ì„ë•Œ 0ì´ë©´ í”Œë ˆì´ì–´1, 0ì´ì•„ë‹ˆë©´ í”Œë ˆì´ì–´2ê°€ ëœë‹¤
- ë¦¬ì•¡íŠ¸ì˜ ë¶ˆë³€ì„±ì›ì¹™ìœ¼ë¡œ `nextSquares`ë¼ëŠ” ë³€ìˆ˜ì— `useState`ë¡œ ì´ˆê¸°ê°’ì„ ì„¤ì •í–ˆë˜ `squares`ë¥¼ ì „ê°œí•œ ë°°ì—´ì— ë‹´ê³ 
  - `nextSquares[index]`ëŠ” `map`ìœ¼ë¡œ í´ë¦­í•œ `index`ì— ë§ì¶°ì„œ `nextPlayer`ê°€ ë™ì ìœ¼ë¡œ ë³€í•œë‹¤
  - ë™ì ìœ¼ë¡œ ë³€í•œ `nextPlayer` ë³€ìˆ˜ë¥¼ `setSquares`ì— ë‹´ì•„ `squares`ë¥¼ ì—…ë°ì´íŠ¸í•˜ê³ 
  - ìµœì¢…ì ìœ¼ë¡œ `gameIndex`ë„ +1 í•œë‹¤

```tsx
const INITAL_SQUARES = Array(9).fill(null);
const [squares, setSquares] = useState(INITAL_SQUARES);

/* Square ì»´í¬ë„ŒíŠ¸ì— ì¸ë±ìŠ¤ê°’ì„ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ */
const PLAYER1 = "ğŸ§¡";
const PLAYER2 = "ğŸ’š";
const [gameIndex, setGameIndex] = useState(0);
const nextPlayer = gameIndex % 2 === 0 ? PLAYER1 : PLAYER2;
const handlePlay = (index: number) => () => {
  const nextSquares = [...squares];
  nextSquares[index] = nextPlayer;
  setSquares(nextSquares);
  setGameIndex(gameIndex + 1);
};
```

### Square ì»´í¬ë„ŒíŠ¸ì˜ ë¹„í™œì„± ìƒíƒœ ì„¤ì •

**childrenì„ ì‚¬ìš©í•´ì„œ isPlayedë¼ëŠ” ë³€ìˆ˜ë¥¼ ì„¤ì •**

- `handlePlay` í•¨ìˆ˜ë¡œ ì¸í•´ `null`ë¡œ ë¹„ì–´ìˆë˜ `children`ì´ â¡ï¸ í”Œë ˆì´ì–´ 1ì´ë‚˜ í”Œë ˆì´ì–´ 2ê°€ ë‹´ê¸°ë©´ì„œ `false`ì—ì„œ `true`ê°’ì´ ë¨
- `children` ê°’ì´ ì¡´ì¬í•˜ê±°ë‚˜ ë¹„ì–´ìˆì§€ì•Šìœ¼ë©´ `true`ë¥¼ ë°˜í™˜
  - ì¡´ì¬í•˜ì§€ì•Šìœ¼ë©´ `false`ë¥¼ ë°˜í™˜
- `disabled` ì†ì„±ì— `isPlayed`ë¥¼ ë„£ì–´ ì‚¬ìš©ìê°€ í´ë¦­í–ˆì„ ì‹œ ë²„íŠ¼ì´ `disabled` ë˜ê²Œ êµ¬ì„±

```tsx
function Square({children, onPlay}: ISquareProp) {
  **const isPlayed = !!children;**

  return (
    <>
      <button
        type="button"
        className="w-16 h-16 border-l border-t border-solid border-slate-700"
        onClick={onPlay}
        disabled={isPlayed}>
        {children}
      </button>
    </>
  );
}
```

### ìœ„ë„ˆ ì²´í¬ ë° ê²Œì„ ì˜¤ë²„

**ìŠ¹ë¦¬ ì¡°ê±´ ë°°ì—´ ì„¤ì •**

```tsx
const winnerCondition = [
  [0, 1, 2],
  [3, 4, 5],
  [6, 7, 8],
  [0, 3, 6],
  [1, 4, 7],
  [2, 5, 8],
  [0, 4, 8],
  [2, 4, 6],
];
```

**checkWinner í•¨ìˆ˜ë¡œ ìŠ¹ë¦¬ ì¡°ê±´ ë¡œì§ ì„¤ì •**

```tsx
const checkWinner = (squares: string[]) => {
  for (const [x, y, z] of winnerCondition) {
    const winnerPlayer = squares[x];
    if (
      winnerPlayer &&
      winnerPlayer === squares[y] &&
      winnerPlayer === squares[z]
    ) {
      return {
        player: winnerPlayer,
        condition: [x, y, z],
      };
    }
  }

  return null;
};
const winner = checkWinner(squares);
console.log(winner);
```

**ìŠ¹ë¦¬ì¡°ê±´ì´ ë§ì„ë•Œ, winner ë³€ìˆ˜ê°€ ê°’ì´ ì±„ì›Œì§„ë‹¤**

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/272b012a-e87d-473c-b817-b18213680590/8c83494d-949b-4a3c-8614-2731baf5527f/Untitled.png)

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/272b012a-e87d-473c-b817-b18213680590/2e534bb8-74af-495e-acbc-fd90484193a2/Untitled.png)

**ê²Œì„ì´ ì¢…ë£Œë¬ì„ë•Œ alertì°½ ë„ìš°ê¸°**

- ë³€ìˆ˜ë¡œ ë§Œë“  **`winner`**ë¡œ ì¡°ê±´ì²˜ë¦¬í•œë‹¤

```tsx
const handlePlay = (index: number) => () => {
    if (**winner**) return alert("GAME OVER!!");
    const nextSquares = [...squares];
    nextSquares[index] = nextPlayer;
    setSquares(nextSquares);
    setGameIndex(gameIndex + 1);
  };
```

**í˜„ì¬ê¹Œì§€ êµ¬í˜„í•œ ë¡œì§**

```tsx
import {useState} from "react";
import Square from "./Square";

function Board() {
  const INITAL_SQUARES = Array(9).fill(null);
  const [squares, setSquares] = useState(INITAL_SQUARES);

  /* Square ì»´í¬ë„ŒíŠ¸ì— ì¸ë±ìŠ¤ê°’ì„ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ */
  const PLAYER1 = "ğŸ§¡";
  const PLAYER2 = "ğŸ’š";
  const [gameIndex, setGameIndex] = useState(0);
  const nextPlayer = gameIndex % 2 === 0 ? PLAYER1 : PLAYER2;
  const handlePlay = (index: number) => () => {
    if (winner) return alert("GAME OVER!!");
    const nextSquares = [...squares];
    nextSquares[index] = nextPlayer;
    setSquares(nextSquares);
    setGameIndex(gameIndex + 1);
  };

  /* ìŠ¹ë¦¬ì ì²´í¬ ë°°ì—´ ë° í•¨ìˆ˜ë¡œì§ */
  const winnerCondition = [
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6],
  ];
  const checkWinner = (squares: string[]) => {
    for (const [x, y, z] of winnerCondition) {
      const winnerPlayer = squares[x];
      if (
        winnerPlayer &&
        winnerPlayer === squares[y] &&
        winnerPlayer === squares[z]
      ) {
        return {
          player: winnerPlayer,
          condition: [x, y, z],
        };
      }
    }

    return null;
  };
  const winner = checkWinner(squares);
  console.log(winner);

  return (
    <>
      <div className="grid grid-rows-3 grid-cols-3 border-t-2 border-2 border-r-[3px] border-l-2 border-b-[3px] border-slate-700">
        {squares.map((square, index) => {
          return (
            <Square key={index} onPlay={handlePlay(index)}>
              {square}
            </Square>
          );
        })}
      </div>
    </>
  );
}

export default Board;
```

### ìœ„ë„ˆì˜ ìŠ¹ë¦¬ì¡°ê±´ ìŠ¤íƒ€ì¼ë§

**winnerClassName ë³€ìˆ˜ë¥¼ ë¹ˆ ë¬¸ìì—´ë¡œ ì„¤ì •**

- ì„¤ì • í›„ `winner` ê°’ì´ ì¡´ì¬í•  ê²½ìš°, ì¦‰ `winner`ê°€ ìƒê¸¸ê²½ìš°
  - `winner.condition` ë°°ì—´ì„ êµ¬ì¡°ë¶„í•´í• ë‹¹í•´ `[x,y,z]`ë¡œ ë‚˜íƒ€ë‚´ê³ 
  - í•´ë‹¹ êµ¬ì¡°ë¶„í•´í• ë‹¹í•œ ì›ì†Œë“¤ì„ indexê°’ê³¼ ì¡°ê±´ë¬¸ì—ì„œ ë¹„êµ
  - ë¹„êµí•´ì„œ `true`ê°€ ë ë•Œ ì¦‰ `winner`ì¼ë•Œ `winnerClassName`ì„ `bg-yellow-100`ìœ¼ë¡œ ì„¤ì •

```tsx
function Board() {
  const INITAL_SQUARES = Array(9).fill(null);
  const [squares, setSquares] = useState(INITAL_SQUARES);

  /* Square ì»´í¬ë„ŒíŠ¸ì— ì¸ë±ìŠ¤ê°’ì„ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ */
  const PLAYER1 = "ğŸ§¡";
  const PLAYER2 = "ğŸ’š";
  const [gameIndex, setGameIndex] = useState(0);
  const nextPlayer = gameIndex % 2 === 0 ? PLAYER1 : PLAYER2;
  const handlePlay = (index: number) => () => {
    if (winner) return alert("GAME OVER!!");
    const nextSquares = [...squares];
    nextSquares[index] = nextPlayer;
    setSquares(nextSquares);
    setGameIndex(gameIndex + 1);
  };

  /* ìŠ¹ë¦¬ì ì²´í¬ ë°°ì—´ ë° í•¨ìˆ˜ë¡œì§ */
  const winnerCondition = [
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6],
  ];
  const checkWinner = (squares: string[]) => {
    for (const [x, y, z] of winnerCondition) {
      const winnerPlayer = squares[x];
      if (
        winnerPlayer &&
        winnerPlayer === squares[y] &&
        winnerPlayer === squares[z]
      ) {
        return {
          player: winnerPlayer,
          condition: [x, y, z],
        };
      }
    }

    return null;
  };
  const winner = checkWinner(squares);

  return (
    <>
      <div className="grid grid-rows-3 grid-cols-3 border-t-2 border-2 border-r-[3px] border-l-2 border-b-[3px] border-slate-700">
        {squares.map((square, index) => {
          **let winnerClassName = "";
          if (winner) {
            const [x, y, z] = winner.condition;
            if (index === x || index === y || index === z) {
              winnerClassName = "bg-yellow-100";
            }
          }**
          return (
            <Square
              **className={winnerClassName}**
              key={index}
              onPlay={handlePlay(index)}>
              {square}
            </Square>
          );
        })}
      </div>
    </>
  );
}
```

**winnerClassNameì„ Square ì»´í¬ë„ŒíŠ¸ì— propsë¡œ ì „ë‹¬í›„ ê¸°ì¡´ classNameê³¼ í•©ì¹œë‹¤**

```tsx
interface ISquareProp {
  children: React.ReactNode;
  className: string;
  onPlay: (index: number) => void;
}

function Square({children, **className**, onPlay}: ISquareProp) {
  const isPlayed = !!children;
  **const defaultClassName =
    "w-16 h-16 border-l border-t border-solid border-slate-700 disabled:cursor-not-allowed";**

  return (
    <>
      <button
        type="button"
        **className={`${defaultClassName} ${className}`.trim()}**
        onClick={onPlay}
        disabled={isPlayed}>
        {children}
      </button>
    </>
  );
}

export default Square;
```

### ê²Œì„ ìƒìˆ˜ ë° í•¨ìˆ˜ ë¶„ë¦¬ê´€ë¦¬

**ìƒìˆ˜ë“¤ì€ ë¶„ë¦¬í•´ constants í´ë”ì—ì„œê´€ë¦¬**

```tsx
**ğŸ“ constants/constant.ts**

export const PLAYER1 = "ğŸ§¡";
export const PLAYER2 = "ğŸ’š";

export const INITAL_SQUARES = Array(9).fill(null);

export const winnerCondition = [
  [0, 1, 2],
  [3, 4, 5],
  [6, 7, 8],
  [0, 3, 6],
  [1, 4, 7],
  [2, 5, 8],
  [0, 4, 8],
  [2, 4, 6],
];

export const checkWinner = (squares: string[]) => {
  for (const [x, y, z] of winnerCondition) {
    const winnerPlayer = squares[x];
    if (
      winnerPlayer &&
      winnerPlayer === squares[y] &&
      winnerPlayer === squares[z]
    ) {
      return {
        player: winnerPlayer,
        condition: [x, y, z],
      };
    }
  }

  return null;
};
```

### ìƒíƒœ ëŒì–´ì˜¬ë¦¬ê¸°

**í˜„ì¬ squaers ìƒíƒœê°€ Board ë‚´ì—ì„œë§Œ ê³µìœ ë˜ê³  ìˆì–´ì„œ ë‹¤ìŒí”Œë ˆì´ì–´ê°€ ëˆ„êµ°ì§€ ì•Œ ìˆ˜ ì—†ìŒ**

- ìƒíƒœë¥¼ ìµœìƒìœ„ë¡œ ëŒì–´ì˜¬ë¦¬ê¸° í•„ìš”

![*ìƒíƒœë¥¼ ìµœìƒìœ„ì¸ Game ì»´í¬ë„ŒíŠ¸ë¡œ ëŒì–´ì˜¬ë ¤ì•¼ Statusì—ì„œë„ ê³µìœ í•  ìˆ˜ ìˆìŒ*](https://prod-files-secure.s3.us-west-2.amazonaws.com/272b012a-e87d-473c-b817-b18213680590/5ebc153d-499e-44a9-8d02-4f310fb4f592/Untitled.png)

_ìƒíƒœë¥¼ ìµœìƒìœ„ì¸ Game ì»´í¬ë„ŒíŠ¸ë¡œ ëŒì–´ì˜¬ë ¤ì•¼ Statusì—ì„œë„ ê³µìœ í•  ìˆ˜ ìˆìŒ_

**ìƒíƒœê´€ë ¨ ë¡œì§ë“¤ì„ ì§¤ë¼ë‚´ Game ì»´í¬ë„ŒíŠ¸ì— ì´ì‹**

- ì´í›„ propsë¡œ ì „ë‹¬

```tsx
import {useState} from "react";
import {
  INITAL_SQUARES,
  PLAYER1,
  PLAYER2,
  checkWinner,
} from "../../constants/constant";
import Board from "../Board/Board";
import History from "./History";
import Status from "./Status";

function Game() {
  **const [squares, setSquares] = useState(INITAL_SQUARES);

  /* Square ì»´í¬ë„ŒíŠ¸ì— ì¸ë±ìŠ¤ê°’ì„ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ */
  const [gameIndex, setGameIndex] = useState(0);
  const nextPlayer = gameIndex % 2 === 0 ? PLAYER1 : PLAYER2;
  const handlePlay = (index: number) => () => {
    if (winner) return alert("GAME OVER!!");
    const nextSquares = [...squares];
    nextSquares[index] = nextPlayer;
    setSquares(nextSquares);
    setGameIndex(gameIndex + 1);
  };

  /* ìŠ¹ë¦¬ì ì²´í¬ ë°°ì—´ ë° í•¨ìˆ˜ë¡œì§ */
  const winner = checkWinner(squares);**

  return (
    <>
      <section className="grid grid-rows-[24px_1fr] grid-cols-2 gap-2">
        <Status />
        <Board **squares={squares} handlePlay={handlePlay} winner={winner}** />
        <History />
      </section>
    </>
  );
}

export default Game;
```

**Board ì»´í¬ë„ŒíŠ¸ì—ì„œpropsë¥¼ ë°›ì€ í›„ ì¸í„°í˜ì´ìŠ¤ ì„¤ì •**

```tsx
import Square from "./Square";

**interface IBoardProp {
  squares: string[];
  handlePlay: (index: number) => void;
  winner: {
    condition: number[];
    player: string;
  } | null;
}**

function Board(**{squares, handlePlay, winner}: IBoardProp**) {
  return (
    <>
      <div className="grid grid-rows-3 grid-cols-3 border-t-2 border-2 border-r-[3px] border-l-2 border-b-[3px] border-slate-700">
        {squares.map((square, index) => {
          let winnerClassName = "";
          if (winner) {
            const [x, y, z] = winner.condition;
            if (index === x || index === y || index === z) {
              winnerClassName = "bg-yellow-100";
            }
          }
          return (
            <Square
              className={winnerClassName}
              key={index}
              onPlay={handlePlay(index)}>
              {square}
            </Square>
          );
        })}
      </div>
    </>
  );
}

export default Board;
```

### Statusì— ìƒíƒœ ì „ë‹¬

**Status ì»´í¬ë„ŒíŠ¸ì— nextPlayer ìƒíƒœë¥¼ propsë¡œ ì „ë‹¬í•œë‹¤**

- ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€ ì„¤ì •

```tsx
function Game() {
  const [squares, setSquares] = useState(INITAL_SQUARES);

  /* Square ì»´í¬ë„ŒíŠ¸ì— ì¸ë±ìŠ¤ê°’ì„ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ */
  const [gameIndex, setGameIndex] = useState(0);
  **const nextPlayer = gameIndex % 2 === 0 ? PLAYER1 : PLAYER2;**
  const handlePlay = (index: number) => () => {
    if (winner) return alert("GAME OVER!!");
    const nextSquares = [...squares];
    nextSquares[index] = nextPlayer;
    setSquares(nextSquares);
    setGameIndex(gameIndex + 1);
  };

  /* ìŠ¹ë¦¬ì ì²´í¬ ë°°ì—´ ë° í•¨ìˆ˜ë¡œì§ */
  const winner = checkWinner(squares);

  return (
    <>
      <section className="grid grid-rows-[24px_1fr] grid-cols-2 gap-2">
        <Status **nextPlayer={nextPlayer}** />
        <Board squares={squares} handlePlay={handlePlay} winner={winner} />
        <History />
      </section>
    </>
  );
}
```

**Status.tsx**

```tsx
**interface IStatusProp {
  nextPlayer: string;
}**

function Status**({nextPlayer}: IStatusProp**) {
  return (
    <>
      <h2 className="col-span-2 text-sm">ë‹¤ìŒ í”Œë ˆì´ì–´ : **{nextPlayer}**</h2>
    </>
  );
}

export default Status;
```

<aside>
ğŸ’¡ **Status ì»´í¬ë„ŒíŠ¸ì—ì„œ ê²Œì„ ìƒíƒœë¥¼ ê°ì§€í•´ ìƒíƒœë©”ì„¸ì§€ë¥¼ ì¶œë ¥**

</aside>

**Game ì»´í¬ë„ŒíŠ¸ì—ì„œ winner í”„ë¡­ì„ ì „ë‹¬**

- `StatusMessage`ë¼ëŠ” ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ ì‚¼í•­ì—°ì‚°ìë¡œ ì¡°ê±´ì²˜ë¦¬

```tsx
interface IStatusProp {
  nextPlayer: string;
  **winner: {
    condition: number[];
    player: string;
  } | null;**
}

function Status({nextPlayer, **winner**}: **IStatusProp**) {
  **let statusMessage = "";

  winner
    ? (statusMessage = `ìœ„ë„ˆ! ${winner.player} ğŸ¥³`)
    : `ë‹¤ìŒ í”Œë ˆì´ì–´ ${nextPlayer}`;**

  return (
    <>
      <h2 className="col-span-2 text-sm">{**statusMessage**}</h2>
    </>
  );
}

export default Status;
```

**ê²Œì„ì´ ë¬´ìŠ¹ë¶€ì¸ì§€ ì•„ë‹Œì§€ë¥¼ íŒë³„í•  ìƒíƒœ í•„ìš”**

- ë¬´ìŠ¹ë¶€ìƒíƒœë¥¼ `props`ë¡œ `Status`ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬

```tsx
function Game() {
  const [squares, setSquares] = useState(INITAL_SQUARES);

  /* Square ì»´í¬ë„ŒíŠ¸ì— ì¸ë±ìŠ¤ê°’ì„ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ */
  const [gameIndex, setGameIndex] = useState(0);
  const nextPlayer = gameIndex % 2 === 0 ? PLAYER1 : PLAYER2;
  const handlePlay = (index: number) => () => {
    if (winner) return alert("GAME OVER!!");
    const nextSquares = [...squares];
    nextSquares[index] = nextPlayer;
    setSquares(nextSquares);
    setGameIndex(gameIndex + 1);
  };

  /* ìŠ¹ë¦¬ì ì²´í¬ ë°°ì—´ ë° í•¨ìˆ˜ë¡œì§ */
  const winner = checkWinner(squares);
  /* ë¬´ìŠ¹ë¶€ ìƒíƒœ */
  **const isDraw = !winner && squares.every(Boolean);**

  return (
    <>
      <section className="grid grid-rows-[24px_1fr] grid-cols-2 gap-2">
        <Status nextPlayer={nextPlayer} winner={winner} **isDraw={isDraw}** />
        <Board squares={squares} handlePlay={handlePlay} winner={winner} />
        <History />
      </section>
    </>
  );
}
```

```tsx
**ğŸ“ Status.tsx**

interface IStatusProp {
  nextPlayer: string;
  winner: {
    condition: number[];
    player: string;
  } | null;
  **isDraw: boolean;**
}

function Status({nextPlayer, winner, **isDraw**}: IStatusProp) {
  let statusMessage = "";
  winner
    ? (statusMessage = `ìœ„ë„ˆ! ${winner.player} ğŸ¥³`)
    : (statusMessage = `ë‹¤ìŒ í”Œë ˆì´ì–´ ${nextPlayer}`);

  **if (isDraw) {
    statusMessage = "ë¬´ìŠ¹ë¶€";
  }**

  return (
    <>
      <h2 className="col-span-2 text-sm">{statusMessage}</h2>
    </>
  );
}

export default Status;
```

## ê²Œì„ íˆìŠ¤í† ë¦¬

**History ì»´í¬ë„ŒíŠ¸ì—ì„œ ê²Œì„ì˜ ì§„í–‰ë‚´ì—­ì„ UIì— ì¶œë ¥**
